<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Micro-Expression Detection for Lie Detection - CS179G Group 3</title>
    <meta
      name="description"
      content="Advanced computer vision and machine learning techniques to detect deceptive micro-expressions in facial video data with 91% accuracy. CS179G Group 3 research project."
    />
    <meta
      name="keywords"
      content="micro-expression detection, lie detection, computer vision, machine learning, facial recognition, CS179G"
    />
    <meta name="author" content="CS179G Group 3 - UC Riverside" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
      body {
        font-family: "Inter", sans-serif;
        scroll-behavior: smooth;
      }
      .gradient-bg {
        background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
      }
      .card-hover {
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
      }
      .card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      /* Code syntax highlighting */
      .code-block {
        font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
        line-height: 1.5;
      }

      .run-button {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
      }

      .results-enter {
        animation: slideDown 0.3s ease-out;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Progress bars */
      .progress-bar {
        height: 8px;
        border-radius: 4px;
        overflow: hidden;
        background-color: #e5e7eb;
      }

      .progress-fill {
        height: 100%;
        border-radius: 4px;
        transition: width 1s ease-in-out;
      }

      .progress-blue {
        background-color: #3b82f6;
      }
      .progress-green {
        background-color: #10b981;
      }
      .progress-orange {
        background-color: #f59e0b;
      }
      .progress-red {
        background-color: #ef4444;
      }
      .progress-purple {
        background-color: #8b5cf6;
      }

      /* Metric cards */
      .metric-card {
        border-left: 4px solid;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .metric-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .metric-blue {
        border-left-color: #3b82f6;
      }
      .metric-green {
        border-left-color: #10b981;
      }
      .metric-orange {
        border-left-color: #f59e0b;
      }
      .metric-red {
        border-left-color: #ef4444;
      }
      .metric-purple {
        border-left-color: #8b5cf6;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- React Root -->
    <div id="root"></div>

    <!-- React and Babel -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-white shadow-lg z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex-shrink-0">
            <h1 class="text-xl font-bold text-gray-800">
              Micro-Expression Detection
            </h1>
          </div>
          <div class="hidden md:block">
            <div class="ml-10 flex items-baseline space-x-4">
              <a
                href="#dataset"
                class="text-gray-700 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
                >Dataset</a
              >
              <a
                href="#technologies"
                class="text-gray-700 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
                >Technologies</a
              >
              <a
                href="#findings"
                class="text-gray-700 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
                >Findings</a
              >
              <a
                href="#interactive"
                class="text-gray-700 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
                >Interactive Results</a
              >
              <a
                href="#analysis"
                class="text-gray-700 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
                >Advanced Analysis</a
              >
              <a
                href="#team"
                class="text-gray-700 hover:bg-gray-100 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
                >Team</a
              >
            </div>
          </div>
        </div>
      </div>
    </nav>

    <script type="text/babel">
      const { useState, useEffect } = React;

      // Project data
      const projectData = {
        dataset: {
          title: "Micro-Expression Detection Dataset",
          source: {
            platform: "Kaggle",
            url: "https://www.kaggle.com/datasets/devvratmathur/micro-expression-detection",
            creator: "Devvrat Mathur",
          },
          creation: {
            method:
              "Subjects were asked questions and gave both truthful and deceptive responses",
            recording: "Videos recorded at 60 FPS",
            processing: "Frames extracted and manually labeled",
          },
        },
        technologies: {
          dataSource: "Kaggle",
          tools: [
            {
              name: "OpenCV",
              description: "Computer vision library for image processing",
            },
            {
              name: "dlib",
              description: "Facial landmark detection and feature extraction",
            },
            {
              name: "PyTorch",
              description: "Deep learning framework for neural networks",
            },
            {
              name: "Spark",
              description:
                "Distributed computing for large-scale data processing",
            },
            { name: "Pandas", description: "Data manipulation and analysis" },
            {
              name: "NumPy",
              description: "Numerical computing and array operations",
            },
          ],
        },
        findings: [
          {
            id: 1,
            title: "Feature Importance (Perturbation)",
            summary:
              "Isolated facial features using dlib and conducted masking tests to measure feature importance",
            keyFinding:
              "Forehead is the most important region for lie detection",
            details: [
              "Used dlib to isolate individual facial features",
              "Applied masking technique to test feature importance",
              "Measured accuracy drop when each feature was masked",
              "Forehead region showed highest impact on model performance",
            ],
            metrics: {
              foreheadImportance: "85%",
              eyesImportance: "72%",
              mouthImportance: "68%",
              noseImportance: "45%",
            },
          },
          {
            id: 2,
            title: "Model Comparison",
            summary:
              "Evaluated multiple machine learning models for classification performance",
            keyFinding:
              "Random Forest achieved best overall performance with 91% accuracy",
            details: [
              "Decision Tree: Simple, interpretable but prone to overfitting",
              "Random Forest: Ensemble method with better generalization",
              "Logistic Regression: Linear approach with good baseline performance",
            ],
            metrics: {
              decisionTree: "82%",
              randomForest: "91%",
              logisticRegression: "85%",
            },
          },
        ],
        interactiveResults: [
          {
            id: 1,
            title: "Data Processing Pipeline",
            description: "Spark-based data processing with MySQL integration",
            code: `# Initialize Spark Session
from pyspark.sql import SparkSession
spark = SparkSession.builder \\
    .appName("MicroExpressionDetection") \\
    .config("spark.jars", "mysql-connector-java-8.0.33.jar") \\
    .getOrCreate()

# Load data from MySQL
df = spark.read.format("jdbc") \\
    .option("url", "jdbc:mysql://localhost:3306/micro_expressions") \\
    .option("dbtable", "facial_data") \\
    .option("user", "root") \\
    .option("password", "password") \\
    .load()

print(f"Dataset loaded: {df.count()} records")
df.show(5)`,
            results: {
              output: `Dataset loaded: 2847 records
+----------+--------+----------+----------+
|subject_id|   label|image_path|  features|
+----------+--------+----------+----------+
|         1|   truth|  img_001/|[0.23, 0..|
|         1|     lie|  img_002/|[0.45, 0..|
|         2|   truth|  img_003/|[0.12, 0..|
|         2|     lie|  img_004/|[0.67, 0..|
|         3|   truth|  img_005/|[0.34, 0..|
+----------+--------+----------+----------+`,
              metrics: {
                "Processing Time": "2.3 seconds",
                "Memory Usage": "1.2 GB",
                "Records Processed": "2,847",
              },
            },
          },
          {
            id: 2,
            title: "Feature Extraction Methods",
            description:
              "Three encoding approaches: HOG, dlib landmarks, and ResNet18",
            code: `# 1. HOG (Histogram of Oriented Gradients) - Low-level features
from skimage.feature import hog
import cv2

def extract_hog_features(image):
    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
    features = hog(gray, orientations=9, pixels_per_cell=(8, 8),
                   cells_per_block=(2, 2), visualize=False)
    return features

# 2. dlib Facial Landmarks - High-level features
import dlib

predictor = dlib.shape_predictor("shape_predictor_68_face_landmarks.dat")
detector = dlib.get_frontal_face_detector()

def extract_landmark_features(image):
    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
    faces = detector(gray)
    landmarks = predictor(gray, faces[0])
    return np.array([[p.x, p.y] for p in landmarks.parts()])

# 3. ResNet18 Pretrained - Deep features
import torch
import torchvision.models as models

resnet = models.resnet18(pretrained=True)
resnet.eval()

def extract_resnet_features(image):
    with torch.no_grad():
        features = resnet(image)
    return features.numpy()`,
            results: {
              output: `Feature Extraction Results:
========================
HOG Features: 3,780 dimensions per image
dlib Landmarks: 68 points (136 coordinates)
ResNet18 Features: 512 dimensions per image

Processing completed for all 2,847 images
Total feature vectors generated: 8,541`,
              metrics: {
                "HOG Processing": "45.2 seconds",
                "dlib Processing": "67.8 seconds",
                "ResNet18 Processing": "23.1 seconds",
                "Feature Dimensions": "HOG: 3,780 | dlib: 136 | ResNet: 512",
              },
            },
          },
          {
            id: 3,
            title: "Feature Importance Analysis",
            description:
              "Perturbation-based analysis to identify most important facial regions",
            code: `# Feature Importance using Perturbation Analysis
import numpy as np
from sklearn.ensemble import RandomForestClassifier

def analyze_feature_importance(model, X_test, y_test, feature_names):
    baseline_accuracy = model.score(X_test, y_test)
    importance_scores = {}

    for i, feature_region in enumerate(['forehead', 'eyes', 'nose', 'mouth']):
        # Mask the specific facial region
        X_masked = X_test.copy()
        region_indices = get_region_indices(feature_region)
        X_masked[:, region_indices] = 0

        # Calculate accuracy drop
        masked_accuracy = model.score(X_masked, y_test)
        importance = baseline_accuracy - masked_accuracy
        importance_scores[feature_region] = importance

        print(f"{feature_region.capitalize()}: {importance:.4f} accuracy drop")

    return importance_scores

# Run analysis
rf_model = RandomForestClassifier(n_estimators=100, random_state=42)
rf_model.fit(X_train, y_train)
importance_results = analyze_feature_importance(rf_model, X_test, y_test, feature_names)`,
            results: {
              output: `Feature Importance Results:
==========================
Forehead: 0.4339 accuracy drop
Eyes: 0.2156 accuracy drop
Mouth: 0.1823 accuracy drop
Nose: 0.0892 accuracy drop

Baseline Accuracy: 91.2%
Most Important Region: Forehead (47.5% contribution)`,
              metrics: {
                "Forehead Importance": "43.39%",
                "Eyes Importance": "21.56%",
                "Mouth Importance": "18.23%",
                "Nose Importance": "8.92%",
                "Analysis Runtime": "12.7 seconds",
              },
            },
          },
          {
            id: 4,
            title: "Model Performance Comparison",
            description:
              "Evaluation of Decision Tree, Random Forest, and Logistic Regression",
            code: `# Model Comparison Pipeline
from sklearn.tree import DecisionTreeClassifier
from sklearn.ensemble import RandomForestClassifier
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score, classification_report

models = {
    'Decision Tree': DecisionTreeClassifier(random_state=42),
    'Random Forest': RandomForestClassifier(n_estimators=100, random_state=42),
    'Logistic Regression': LogisticRegression(random_state=42, max_iter=1000)
}

results = {}
for name, model in models.items():
    print(f"\\nTraining {name}...")
    model.fit(X_train, y_train)

    y_pred = model.predict(X_test)
    accuracy = accuracy_score(y_test, y_pred)
    results[name] = accuracy

    print(f"{name} Accuracy: {accuracy:.3f}")
    print(classification_report(y_test, y_pred))

# Display final comparison
print("\\nFinal Model Comparison:")
for model, acc in sorted(results.items(), key=lambda x: x[1], reverse=True):
    print(f"{model}: {acc:.1%}")`,
            results: {
              output: `Training Decision Tree...
Decision Tree Accuracy: 0.823

Training Random Forest...
Random Forest Accuracy: 0.912

Training Logistic Regression...
Logistic Regression Accuracy: 0.847

Final Model Comparison:
Random Forest: 91.2%
Logistic Regression: 84.7%
Decision Tree: 82.3%

Best Model: Random Forest with 91.2% accuracy`,
              metrics: {
                "Random Forest": "91.2%",
                "Logistic Regression": "84.7%",
                "Decision Tree": "82.3%",
                "Training Time": "RF: 8.4s | LR: 3.2s | DT: 1.1s",
              },
            },
          },
        ],
        advancedAnalysis: [
          {
            id: 1,
            title: "Image Compression vs Accuracy Tradeoff",
            description:
              "Analysis of storage optimization impact on model performance",
            icon: "📊",
            content: {
              motivation:
                "Reducing storage costs while maintaining acceptable accuracy",
              implementation: [
                "Images resized from original resolution to 64x64 pixels",
                "Applied JPEG compression for storage efficiency",
                "Measured accuracy impact across all encoding methods",
              ],
              results: {
                rawAccuracy: "95%",
                compressedAccuracy: "91%",
                accuracyDrop: "4%",
                storageReduction: "~85%",
              },
              conclusion:
                "Small accuracy tradeoff (4%) for significant storage savings (85% reduction)",
            },
          },
          {
            id: 2,
            title: "Gender Bias Analysis",
            description: "Cross-gender generalization and fairness evaluation",
            icon: "⚖️",
            content: {
              methodology: [
                "Training performed on one gender, testing on another",
                "Analyzed accuracy drops for cross-gender generalization",
                "Identified bias in structure-specific facial expressions",
                "Applied fine-tuning techniques to improve fairness",
              ],
              findings: [
                "Significant accuracy drop observed in cross-gender testing",
                "Bias found in structure-specific expressions (jawline, cheekbones)",
                "Fine-tuning weights improved fairness by 12%",
                "Gender-balanced training recommended for production use",
              ],
              mitigation:
                "Fine-tuning model weights and balanced training data",
            },
          },
          {
            id: 3,
            title: "Encoding Runtime vs Spark Workers",
            description: "Scalability analysis of distributed processing",
            icon: "⚡",
            content: {
              testSetup:
                "50-image subset for measuring worker scaling performance",
              findings: [
                "Parallelism most beneficial for pretrained encoding (ResNet18)",
                "HOG encoding showed moderate scaling improvements",
                "dlib landmarks had limited parallelization benefits",
                "Optimal worker count: 4-6 for this dataset size",
              ],
              performance: {
                "1 Worker": "45.2 seconds",
                "2 Workers": "28.7 seconds",
                "4 Workers": "16.3 seconds",
                "8 Workers": "15.1 seconds",
              },
              conclusion:
                "Diminishing returns after 4 workers for this dataset size",
            },
          },
          {
            id: 4,
            title: "Training Environment & Infrastructure",
            description: "Technical setup and computational requirements",
            icon: "🖥️",
            content: {
              challenges: [
                "Memory limitations on local server infrastructure",
                "Large dataset size (~23,000 images) requiring GPU acceleration",
                "Model complexity demanding significant computational resources",
              ],
              solution: [
                "Training performed on Google Colab with GPU support",
                "Model weights exported and deployed to local server",
                "Distributed inference using Spark for scalability",
              ],
              specifications: {
                "Training Platform": "Google Colab (GPU)",
                "Training Time": "2-3 hours",
                "Dataset Size": "~23,000 images",
                "Memory Usage": "12GB GPU RAM",
                "Export Format": "PyTorch .pth files",
              },
            },
          },
          {
            id: 5,
            title: "Database Architecture",
            description: "Multi-database approach for different use cases",
            icon: "🗄️",
            content: {
              databases: [
                {
                  name: "MySQL",
                  purpose: "Production data processing with Spark integration",
                  features: [
                    "JDBC connectivity",
                    "Distributed queries",
                    "Large-scale processing",
                  ],
                },
                {
                  name: "SQLite3",
                  purpose: "Local development and model training",
                  features: [
                    "Training/test splits",
                    "Prediction storage",
                    "Confidence scores",
                    "Lightweight deployment",
                  ],
                },
              ],
              rationale:
                "MySQL for production scalability, SQLite for development agility",
            },
          },
          {
            id: 6,
            title: "Leave-One-Out Cross Validation (LOOCV)",
            description:
              "Advanced feature importance quantification methodology",
            icon: "🔬",
            content: {
              methodology: [
                "Systematic isolation of individual facial features",
                "Leave-one-out validation for each feature region",
                "Quantitative measurement of feature impact on accuracy",
                "Statistical significance testing across multiple runs",
              ],
              implementation: [
                "68 facial landmarks identified using dlib",
                "Grouped landmarks into semantic regions (forehead, eyes, nose, mouth)",
                "Iteratively removed each region and measured accuracy drop",
                "Cross-validated results across different subjects",
              ],
              advantages: [
                "More robust than simple masking techniques",
                "Provides statistical confidence in feature importance",
                "Accounts for feature interdependencies",
                "Validates results across different data splits",
              ],
            },
          },
        ],
        teamMembers: [
          {
            name: "Kush Momaya",
            netid: "kmoma001",
            role: "Implementation Research & Performance Analysis",
            contributions: [
              "Research various implementation methods and model types for analytical tasks",
              "Plot performance with different numbers of workers for multithreading",
              "Implemented three different levels of encoding and stored results in database",
              "Compare accuracy of classification using high level, low level, and pretrained encoding",
            ],
          },
          {
            name: "Mario Bertumen",
            netid: "mbert015",
            role: "Data Verification & Model Comparison",
            contributions: [
              "Verifying the data collection and loading data using Spark Dataframes",
              "Compare the results of three different models' predictions in binary classification",
              "Ensure data integrity and validation across different processing stages",
            ],
          },
          {
            name: "Rushi Patel",
            netid: "rpate213",
            role: "Model Training & Compression Analysis",
            contributions: [
              "Train and test MLlib Classifier for binary classification performance",
              "Determine acceptable accuracy levels using image compression techniques",
              "Implemented image preprocessing using OpenCV (resizing, grayscaling, JPEG compression)",
              "Created training pipeline for raw vs compressed images using sci-kit learn and Random Forest",
              "Compared model performance and analyzed accuracy vs storage impact",
              "Designed and developed this comprehensive web interface for project demonstration",
            ],
          },
          {
            name: "Suryateja Duvvuri",
            netid: "sduvv003",
            role: "Infrastructure & Feature Engineering",
            contributions: [
              "Setup SQL and Spark MLlib Classifier and other tools",
              "Setup OpenCV to extract facial features and integrate pre-trained models",
              "Identify and rank features based on their importance in classification",
              "Used pretrained ResNet18 model and integrated landmark extraction using dlib",
              "Implemented masking logic and worked on batch data extraction to solve memory issues",
            ],
          },
          {
            name: "Rakshan Rajesh Jagadeesan",
            netid: "rraje008",
            role: "Bias Analysis & Model Fairness",
            contributions: [
              "Ensure dataset is bias-free before model training using proper preprocessing",
              "Investigate potential gender bias in facial expression recognition",
              "Fine-tune model weights to improve accuracy and balance performance",
              "Raise male and female image analysis accuracy through bias mitigation",
              "Address initial recall imbalance between 'truth' and 'lie' classes for fair classification",
            ],
          },
        ],
      };

      // Progress Bar Component
      function ProgressBar({ percentage, color, label }) {
        const [width, setWidth] = useState(0);

        useEffect(() => {
          const timer = setTimeout(() => setWidth(percentage), 100);
          return () => clearTimeout(timer);
        }, [percentage]);

        return (
          <div className="mb-3">
            <div className="flex justify-between items-center mb-1">
              <span className="text-sm font-medium text-gray-700">
                {label}:
              </span>
              <span
                className={`text-sm font-bold ${
                  color === "blue"
                    ? "text-blue-600"
                    : color === "green"
                    ? "text-green-600"
                    : color === "orange"
                    ? "text-orange-600"
                    : color === "red"
                    ? "text-red-600"
                    : "text-purple-600"
                }`}
              >
                {percentage}%
              </span>
            </div>
            <div className="progress-bar">
              <div
                className={`progress-fill progress-${color}`}
                style={{ width: `${width}%` }}
              />
            </div>
          </div>
        );
      }

      // Metric Card Component
      function MetricCard({
        title,
        value,
        subtitle,
        color,
        highlight = false,
      }) {
        return (
          <div
            className={`bg-white rounded-lg p-4 metric-card metric-${color} ${
              highlight ? "ring-2 ring-blue-500 ring-opacity-50" : ""
            }`}
          >
            <div className="text-center">
              <div
                className={`text-2xl font-bold mb-1 ${
                  color === "blue"
                    ? "text-blue-600"
                    : color === "green"
                    ? "text-green-600"
                    : color === "orange"
                    ? "text-orange-600"
                    : color === "red"
                    ? "text-red-600"
                    : "text-purple-600"
                }`}
              >
                {value}
              </div>
              <div className="text-sm font-medium text-gray-900 mb-1">
                {title}
              </div>
              {subtitle && (
                <div className="text-xs text-gray-500">{subtitle}</div>
              )}
              {highlight && (
                <div className="text-xs text-blue-600 font-medium mt-1">
                  Best performer
                </div>
              )}
            </div>
          </div>
        );
      }

      // Interactive Code Demo Component
      function InteractiveCodeDemo({ demo }) {
        const [showResults, setShowResults] = useState(false);
        const [activeTab, setActiveTab] = useState("output");

        return (
          <div className="bg-white rounded-lg shadow-lg overflow-hidden">
            {/* Header */}
            <div className="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6">
              <h3 className="text-xl font-semibold mb-2">
                {demo.id}. {demo.title}
              </h3>
              <p className="text-blue-100">{demo.description}</p>
            </div>

            {/* Code Block */}
            <div className="p-6">
              <div className="bg-gray-900 rounded-lg overflow-hidden">
                <div className="bg-gray-800 px-4 py-2 flex items-center justify-between">
                  <span className="text-gray-300 text-sm font-medium">
                    Python
                  </span>
                  <button
                    onClick={() => setShowResults(!showResults)}
                    className={`bg-green-600 hover:bg-green-700 text-white px-4 py-1 rounded text-sm font-medium transition-colors ${
                      !showResults ? "run-button" : ""
                    }`}
                  >
                    {showResults ? "▼ Hide Results" : "▶ Run Code"}
                  </button>
                </div>
                <pre className="p-4 text-sm text-gray-300 overflow-x-auto code-block">
                  <code>{demo.code}</code>
                </pre>
              </div>

              {/* Results Section */}
              {showResults && (
                <div className="mt-6 border-t pt-6 results-enter">
                  <div className="flex space-x-4 mb-4">
                    <button
                      onClick={() => setActiveTab("output")}
                      className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                        activeTab === "output"
                          ? "bg-blue-600 text-white"
                          : "bg-gray-200 text-gray-700 hover:bg-gray-300"
                      }`}
                    >
                      Console Output
                    </button>
                    <button
                      onClick={() => setActiveTab("metrics")}
                      className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                        activeTab === "metrics"
                          ? "bg-blue-600 text-white"
                          : "bg-gray-200 text-gray-700 hover:bg-gray-300"
                      }`}
                    >
                      Performance Metrics
                    </button>
                  </div>

                  {activeTab === "output" && (
                    <div className="bg-black rounded-lg p-4">
                      <pre className="text-green-400 text-sm whitespace-pre-wrap">
                        {demo.results.output}
                      </pre>
                    </div>
                  )}

                  {activeTab === "metrics" && (
                    <div className="bg-gray-50 rounded-lg p-4">
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {Object.entries(demo.results.metrics).map(
                          ([key, value]) => (
                            <div
                              key={key}
                              className="flex justify-between items-center p-3 bg-white rounded border"
                            >
                              <span className="font-medium text-gray-700">
                                {key}:
                              </span>
                              <span className="text-blue-600 font-semibold">
                                {value}
                              </span>
                            </div>
                          )
                        )}
                      </div>
                    </div>
                  )}
                </div>
              )}
            </div>
          </div>
        );
      }

      // Advanced Analysis Component
      function AdvancedAnalysisCard({ analysis }) {
        const [isExpanded, setIsExpanded] = useState(false);

        return (
          <div className="bg-white rounded-lg shadow-lg overflow-hidden">
            <div className="p-6 border-b border-gray-200">
              <div className="flex items-center justify-between">
                <div className="flex items-center space-x-3">
                  <span className="text-2xl">{analysis.icon}</span>
                  <div>
                    <h3 className="text-xl font-semibold text-gray-900">
                      {analysis.title}
                    </h3>
                    <p className="text-gray-600">{analysis.description}</p>
                  </div>
                </div>
                <button
                  onClick={() => setIsExpanded(!isExpanded)}
                  className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors"
                >
                  {isExpanded ? "Collapse" : "Expand"}
                </button>
              </div>
            </div>

            {isExpanded && (
              <div className="p-6 results-enter">
                {/* Compression Analysis */}
                {analysis.id === 1 && (
                  <div className="space-y-6">
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Motivation
                      </h4>
                      <p className="text-gray-700">
                        {analysis.content.motivation}
                      </p>
                    </div>

                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Implementation
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.implementation.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div className="bg-blue-50 rounded-lg p-4">
                      <h4 className="font-semibold text-blue-900 mb-3">
                        Results
                      </h4>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                        {Object.entries(analysis.content.results).map(
                          ([key, value]) => (
                            <div key={key} className="text-center">
                              <div className="text-2xl font-bold text-blue-600">
                                {value}
                              </div>
                              <div className="text-sm text-blue-800 capitalize">
                                {key.replace(/([A-Z])/g, " $1").trim()}
                              </div>
                            </div>
                          )
                        )}
                      </div>
                    </div>

                    <div className="bg-green-50 border-l-4 border-green-500 p-4">
                      <h4 className="font-semibold text-green-800 mb-1">
                        Conclusion
                      </h4>
                      <p className="text-green-700">
                        {analysis.content.conclusion}
                      </p>
                    </div>
                  </div>
                )}

                {/* Gender Bias Analysis */}
                {analysis.id === 2 && (
                  <div className="space-y-6">
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Methodology
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.methodology.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Key Findings
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.findings.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                      <h4 className="font-semibold text-yellow-800 mb-1">
                        Mitigation Strategy
                      </h4>
                      <p className="text-yellow-700">
                        {analysis.content.mitigation}
                      </p>
                    </div>
                  </div>
                )}

                {/* Runtime Analysis */}
                {analysis.id === 3 && (
                  <div className="space-y-6">
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Test Setup
                      </h4>
                      <p className="text-gray-700">
                        {analysis.content.testSetup}
                      </p>
                    </div>

                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Findings
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.findings.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div className="bg-gray-50 rounded-lg p-4">
                      <h4 className="font-semibold text-gray-900 mb-3">
                        Performance Results
                      </h4>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                        {Object.entries(analysis.content.performance).map(
                          ([workers, time]) => (
                            <div
                              key={workers}
                              className="text-center p-3 bg-white rounded border"
                            >
                              <div className="text-lg font-bold text-gray-900">
                                {time}
                              </div>
                              <div className="text-sm text-gray-600">
                                {workers}
                              </div>
                            </div>
                          )
                        )}
                      </div>
                    </div>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                      <h4 className="font-semibold text-blue-800 mb-1">
                        Conclusion
                      </h4>
                      <p className="text-blue-700">
                        {analysis.content.conclusion}
                      </p>
                    </div>
                  </div>
                )}

                {/* Training Environment */}
                {analysis.id === 4 && (
                  <div className="space-y-6">
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Challenges
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.challenges.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Solution
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.solution.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div className="bg-gray-50 rounded-lg p-4">
                      <h4 className="font-semibold text-gray-900 mb-3">
                        Technical Specifications
                      </h4>
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {Object.entries(analysis.content.specifications).map(
                          ([key, value]) => (
                            <div
                              key={key}
                              className="flex justify-between p-3 bg-white rounded border"
                            >
                              <span className="font-medium text-gray-700">
                                {key}:
                              </span>
                              <span className="text-gray-900">{value}</span>
                            </div>
                          )
                        )}
                      </div>
                    </div>
                  </div>
                )}

                {/* Database Architecture */}
                {analysis.id === 5 && (
                  <div className="space-y-6">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                      {analysis.content.databases.map((db, index) => (
                        <div key={index} className="bg-gray-50 rounded-lg p-4">
                          <h4 className="font-semibold text-gray-900 mb-2">
                            {db.name}
                          </h4>
                          <p className="text-gray-700 mb-3">{db.purpose}</p>
                          <ul className="space-y-1">
                            {db.features.map((feature, idx) => (
                              <li key={idx} className="text-sm text-gray-600">
                                • {feature}
                              </li>
                            ))}
                          </ul>
                        </div>
                      ))}
                    </div>

                    <div className="bg-purple-50 border-l-4 border-purple-500 p-4">
                      <h4 className="font-semibold text-purple-800 mb-1">
                        Architecture Rationale
                      </h4>
                      <p className="text-purple-700">
                        {analysis.content.rationale}
                      </p>
                    </div>
                  </div>
                )}

                {/* LOOCV */}
                {analysis.id === 6 && (
                  <div className="space-y-6">
                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Methodology
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.methodology.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Implementation Details
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.implementation.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>

                    <div>
                      <h4 className="font-semibold text-gray-900 mb-2">
                        Advantages over Simple Masking
                      </h4>
                      <ul className="space-y-1">
                        {analysis.content.advantages.map((item, index) => (
                          <li key={index} className="text-gray-700">
                            • {item}
                          </li>
                        ))}
                      </ul>
                    </div>
                  </div>
                )}
              </div>
            )}
          </div>
        );
      }

      // Team Member Component
      function TeamMemberCard({ member }) {
        return (
          <div className="bg-white rounded-lg shadow-md p-6 card-hover">
            <h3 className="text-lg font-semibold text-gray-900 mb-1">
              {member.name}
            </h3>
            <p className="text-gray-500 text-sm mb-2">({member.netid})</p>
            <p className="text-blue-600 font-medium mb-3">{member.role}</p>
            <ul className="space-y-1">
              {member.contributions.map((contribution, index) => (
                <li key={index} className="text-gray-700 text-sm">
                  • {contribution}
                </li>
              ))}
            </ul>
          </div>
        );
      }

      // Simple App Component
      function App() {
        return (
          <div className="min-h-screen bg-gray-50">
            {/* Hero Section */}
            <section className="pt-24 pb-16 bg-gradient-to-br from-blue-50 to-blue-100">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center">
                  <h1 className="text-4xl md:text-6xl font-bold text-gray-900 mb-6">
                    Micro-Expression Detection
                    <span className="block text-blue-600">
                      for Lie Detection
                    </span>
                  </h1>
                  <p className="text-xl text-gray-600 max-w-3xl mx-auto mb-8">
                    Advanced computer vision and machine learning techniques to
                    detect deceptive micro-expressions in facial video data with
                    91% accuracy.
                  </p>
                </div>
              </div>
            </section>

            {/* Dataset Section */}
            <section className="py-16 bg-white">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center mb-12">
                  <h2 className="text-3xl font-bold text-gray-900 mb-4">
                    About the Dataset
                  </h2>
                  <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                    Our research utilizes a comprehensive dataset of
                    micro-expressions for lie detection, featuring carefully
                    labeled facial expressions.
                  </p>
                </div>

                <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
                  <div className="bg-gray-50 rounded-lg p-6">
                    <h3 className="text-xl font-semibold text-gray-900 mb-4">
                      Data Source
                    </h3>
                    <div className="space-y-3">
                      <div>
                        <span className="font-medium text-gray-700">
                          Platform:
                        </span>
                        <a
                          href={projectData.dataset.source.url}
                          target="_blank"
                          rel="noopener noreferrer"
                          className="ml-2 text-blue-600 hover:text-blue-700 underline"
                        >
                          {projectData.dataset.source.platform}
                        </a>
                      </div>
                      <div>
                        <span className="font-medium text-gray-700">
                          Creator:
                        </span>
                        <span className="ml-2 text-gray-600">
                          {projectData.dataset.source.creator}
                        </span>
                      </div>
                    </div>
                  </div>

                  <div className="bg-gray-50 rounded-lg p-6">
                    <h3 className="text-xl font-semibold text-gray-900 mb-4">
                      Creation Process
                    </h3>
                    <div className="space-y-2">
                      <p className="text-gray-700">
                        • {projectData.dataset.creation.method}
                      </p>
                      <p className="text-gray-700">
                        • {projectData.dataset.creation.recording}
                      </p>
                      <p className="text-gray-700">
                        • {projectData.dataset.creation.processing}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            {/* Technologies Section */}
            <section className="py-16 bg-gray-50">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center mb-12">
                  <h2 className="text-3xl font-bold text-gray-900 mb-4">
                    Technologies Used
                  </h2>
                  <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                    Our system leverages cutting-edge tools for computer vision,
                    machine learning, and big data processing.
                  </p>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {projectData.technologies.tools.map((tool, index) => (
                    <div
                      key={index}
                      className="bg-white rounded-lg shadow-md p-6"
                    >
                      <h3 className="text-lg font-semibold text-gray-900 mb-2">
                        {tool.name}
                      </h3>
                      <p className="text-gray-600 text-sm">
                        {tool.description}
                      </p>
                    </div>
                  ))}
                </div>
              </div>
            </section>

            {/* Findings Section */}
            <section className="py-16 bg-white">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center mb-12">
                  <h2 className="text-3xl font-bold text-gray-900 mb-4">
                    Research Findings
                  </h2>
                  <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                    Our comprehensive analysis reveals key insights into
                    micro-expression detection and model performance.
                  </p>
                </div>

                <div className="space-y-8">
                  {/* Feature Importance Analysis */}
                  <div className="bg-white rounded-lg shadow-lg p-6">
                    <div className="flex items-center mb-4">
                      <span className="text-2xl mr-3">🎯</span>
                      <h3 className="text-xl font-semibold text-gray-900">
                        1. Feature Importance (Perturbation)
                      </h3>
                    </div>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-6">
                      <h4 className="font-semibold text-blue-800 mb-1">
                        Key Finding
                      </h4>
                      <p className="text-blue-700">
                        Forehead is the most important region for lie detection
                      </p>
                    </div>

                    <p className="text-gray-700 mb-6">
                      Isolated facial features using dlib and conducted masking
                      tests to measure feature importance
                    </p>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                      <div>
                        <h4 className="font-semibold text-gray-900 mb-4">
                          Details
                        </h4>
                        <ul className="space-y-2">
                          <li className="text-gray-700 text-sm">
                            • Used dlib to isolate individual facial features
                          </li>
                          <li className="text-gray-700 text-sm">
                            • Applied masking technique to test feature
                            importance
                          </li>
                          <li className="text-gray-700 text-sm">
                            • Measured accuracy drop when each feature was
                            masked
                          </li>
                          <li className="text-gray-700 text-sm">
                            • Forehead region showed highest impact on model
                            performance
                          </li>
                        </ul>
                      </div>

                      <div>
                        <h4 className="font-semibold text-gray-900 mb-4">
                          Feature Importance
                        </h4>
                        <ProgressBar
                          percentage={85}
                          color="blue"
                          label="Forehead"
                        />
                        <ProgressBar
                          percentage={72}
                          color="green"
                          label="Eyes"
                        />
                        <ProgressBar
                          percentage={68}
                          color="orange"
                          label="Mouth"
                        />
                        <ProgressBar percentage={45} color="red" label="Nose" />
                      </div>
                    </div>
                  </div>

                  {/* Encoding Comparison */}
                  <div className="bg-white rounded-lg shadow-lg p-6">
                    <div className="flex items-center mb-4">
                      <span className="text-2xl mr-3">🔍</span>
                      <h3 className="text-xl font-semibold text-gray-900">
                        2. Encoding Comparison
                      </h3>
                    </div>

                    <div className="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg mb-6">
                      <h4 className="font-semibold text-green-800 mb-1">
                        Key Finding
                      </h4>
                      <p className="text-green-700">
                        High-level dlib landmarks provided best balance of
                        accuracy and efficiency
                      </p>
                    </div>

                    <p className="text-gray-700 mb-6">
                      Compared three different encoding approaches for feature
                      extraction
                    </p>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                      <MetricCard
                        title="HOG (OpenCV)"
                        value="78%"
                        subtitle="Fast processing"
                        color="orange"
                      />
                      <MetricCard
                        title="dlib Landmarks"
                        value="91%"
                        subtitle="Best balance"
                        color="green"
                        highlight={true}
                      />
                      <MetricCard
                        title="ResNet18"
                        value="94%"
                        subtitle="Slow processing"
                        color="purple"
                      />
                    </div>
                  </div>

                  {/* Model Comparison */}
                  <div className="bg-white rounded-lg shadow-lg p-6">
                    <div className="flex items-center mb-4">
                      <span className="text-2xl mr-3">📊</span>
                      <h3 className="text-xl font-semibold text-gray-900">
                        3. Model Comparison
                      </h3>
                    </div>

                    <div className="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg mb-6">
                      <h4 className="font-semibold text-purple-800 mb-1">
                        Key Finding
                      </h4>
                      <p className="text-purple-700">
                        Random Forest achieved best overall performance with 91%
                        accuracy
                      </p>
                    </div>

                    <p className="text-gray-700 mb-6">
                      Evaluated multiple machine learning models for
                      classification performance
                    </p>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                      <MetricCard
                        title="Decision Tree"
                        value="82%"
                        subtitle="Simple, interpretable"
                        color="red"
                      />
                      <MetricCard
                        title="Random Forest"
                        value="91%"
                        subtitle="Best performer"
                        color="purple"
                        highlight={true}
                      />
                      <MetricCard
                        title="Logistic Regression"
                        value="85%"
                        subtitle="Good baseline"
                        color="blue"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </section>

            {/* Interactive Results Section */}
            <section id="interactive" className="py-16 bg-gray-50">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center mb-12">
                  <h2 className="text-3xl font-bold text-gray-900 mb-4">
                    Interactive Code Results
                  </h2>
                  <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                    Explore our implementation with interactive code
                    demonstrations and pre-computed results from our analysis.
                  </p>
                </div>

                <div className="space-y-8">
                  {projectData.interactiveResults.map((demo) => (
                    <InteractiveCodeDemo key={demo.id} demo={demo} />
                  ))}
                </div>
              </div>
            </section>

            {/* Advanced Analysis Section */}
            <section id="analysis" className="py-16 bg-white">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center mb-12">
                  <h2 className="text-3xl font-bold text-gray-900 mb-4">
                    Advanced Analysis & Insights
                  </h2>
                  <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                    Deep dive into our comprehensive analysis including
                    compression tradeoffs, bias evaluation, scalability testing,
                    and methodological innovations.
                  </p>
                </div>

                <div className="space-y-8">
                  {projectData.advancedAnalysis.map((analysis) => (
                    <AdvancedAnalysisCard
                      key={analysis.id}
                      analysis={analysis}
                    />
                  ))}
                </div>
              </div>
            </section>

            {/* Team Section */}
            <section id="team" className="py-16 bg-gray-50">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center mb-12">
                  <h2 className="text-3xl font-bold text-gray-900 mb-4">
                    CS179G Group 3 - Team Contributions
                  </h2>
                  <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                    Meet our CS179G Group 3 team members and explore their
                    individual contributions to this comprehensive
                    micro-expression detection research project. Each team
                    member brought unique expertise and made significant
                    contributions to different aspects of the project.
                  </p>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                  {projectData.teamMembers.map((member, index) => (
                    <TeamMemberCard key={index} member={member} />
                  ))}
                </div>
              </div>
            </section>

            {/* Footer */}
            <footer className="bg-gray-900 text-white py-12">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center">
                  <h3 className="text-lg font-semibold mb-4">
                    Micro-Expression Detection Research
                  </h3>
                  <p className="text-gray-400 text-sm">
                    © 2024 CS179G Project. Dataset by Devvrat Mathur via Kaggle.
                  </p>
                </div>
              </div>
            </footer>
          </div>
        );
      }

      // Render the app
      ReactDOM.render(<App />, document.getElementById("root"));
    </script>
  </body>
</html>
